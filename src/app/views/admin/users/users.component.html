<div class="fade-in">
  <c-row ngPreserveWhitespaces>
    <c-col xs="12">
      <c-card class="mb-4">
        <c-card-header class="d-flex justify-between">
         <h5> Liste des <strong>utilisateurs </strong> </h5>
          <button cButton color="primary"  class="float right">
            <fa-icon [icon]="faPlus" class="white-c" (click)="toggleAddModal()"></fa-icon>
          </button>
        </c-card-header>
        <c-card-body>
          
            <table [bordered]="true" cTable>
              <thead>
              <tr>
                <th scope="col">N°</th>
                <th scope="col">Prénom</th>
                <th scope="col">Nom</th>
                <th scope="col">Email</th>
                <th scope="col">Profil</th>
                <th scope="col">Actions</th>
              </tr>
              </thead>
              <tbody>
                <tr *ngFor="let user of users">
                  <th scope="row">
                    {{user?.id}}
                  </th>
                  <td>
                    {{user?.first_name}}
                  </td>
                  <td>
                    {{user?.last_name}}
                  </td>
                  <td>
                    {{user?.email}}
                  </td>
                  <td>
                    {{user?.role}}
                  </td>
                  
                  <td>
                    <c-button-group aria-label="Actions" role="group" class="actions">
                      <button cButton color="primary">
                        <fa-icon [icon]="faEye"></fa-icon>
                      </button>
                      <button cButton color="danger">
                        <fa-icon [icon]="faTrash"></fa-icon>
                      </button>
                    </c-button-group>
                  </td>
                </tr>
             </tbody>
          </table>
        </c-card-body>
      </c-card>
    </c-col>
  </c-row>
</div>



<!-- modal account details -->
<c-modal #userDetailsModal backdrop="static" 
  [visible]="modalVisible" [keyboard]="false" id="userDetails"
  (visibleChange)="handleVisibilityModal($event)" scrollable alignment="center">
  <c-modal-header>
    <h5 cModalTitle>Ajouter un utilisateur</h5>
    <button [cModalToggle]="userDetailsModal.id" cButtonClose></button>
  </c-modal-header>
  <c-modal-body>
    <div class="fields-section">
      <form [formGroup]="userForm" (ngSubmit)="checkFormField()">
      <c-row>
        <c-col xs="12" sm="12" md="12" lg="12">
          <div [cFormFloating]="true" class="mb-3">
            <input cFormControl id="firstName" placeholder="Prenom" type="text" formControlName="firstName" />
            <label cLabel for="firstName">Prenom</label>
          </div>
        </c-col>

        <c-col xs="12" sm="12" md="12" lg="12">
          <div [cFormFloating]="true" class="mb-3">
            <input cFormControl id="lastName" placeholder="Nom" type="text" formControlName="lastName" />
            <label cLabel for="lastName">Nom</label>
          </div>
        </c-col>

        <c-col xs="12" sm="12" md="12" lg="12">
          <div [cFormFloating]="true" class="mb-3">
            <input cFormControl id="lastName" placeholder="Téléphone" type="tel" formControlName="phone" />
            <label cLabel for="lastName">Téléphone</label>
          </div>
        </c-col>

        <c-col xs="12" sm="12" md="12" lg="12">
          <div [cFormFloating]="true" class="mb-3">
            <input cFormControl id="email" placeholder="Email" type="email" formControlName="email" />
            <label cLabel for="email">Email</label>
          </div>
        </c-col>
      </c-row>
      <c-row>
        <c-col sm="12" lg="4" md="6" class="mb-3">
          <button [cModalToggle]="userDetailsModal.id" cButton color="secondary">
            Fermer
          </button>
        </c-col>
        <c-col sm="12" lg="4" md="6"  class="mb-3">
          <button cButton color="primary" type="submit">Ajouter</button>
        </c-col>
      </c-row>
    </form>
    </div>
  </c-modal-body>
  <c-modal-footer>
    
  </c-modal-footer>
</c-modal>